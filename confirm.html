<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GluOne — подтверждение e-mail</title>

  <meta name="description" content="Подтверждение входа кодом из e-mail" />
  <meta name="color-scheme" content="light dark" />
  <meta name="theme-color" content="#0f172a" />

  <link rel="icon" href="assets/image/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/image/favicon-32.png">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/image/favicon-192.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/image/favicon-180.png">
  <link rel="mask-icon" href="assets/image/logo-symbol.svg" color="#0f172a">

  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="assets/css/confirm.css">
  <script type="module" src="assets/js/core.js"></script>
  <script type="module" src="assets/js/confirm.js"></script>
</head>
<body>
  <main class="page-auth">
    <section class="container-sm">
      <div class="card auth-card auth-card--confirm">
        <div style="text-align:center;">
          <div class="circle-icon" aria-hidden="true">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="5" width="18" height="14" rx="3" stroke="currentColor" stroke-width="2"/>
              <path d="M4 7l8 6 8-6" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
          </div>

          <h1 class="auth-title">Код подтверждения</h1>
          <p class="auth-sub">
            Мы отправили код на e-mail <span id="maskedEmail">me****@i****…</span>
          </p>
        </div>

        <form id="confirmForm" novalidate style="margin-top:24px;">
          <!-- 4 ячейки -->
          <div class="otp-grid otp-grid--4" aria-label="Поля ввода кода из письма">
            <input class="otp-input"
                   inputmode="numeric" pattern="\d*" maxlength="1"
                   autocomplete="one-time-code"
                   aria-label="Первая цифра" aria-describedby="codeError confirmMsg"
                   enterkeyhint="next" />
            <input class="otp-input"
                   inputmode="numeric" pattern="\d*" maxlength="1"
                   aria-label="Вторая цифра" aria-describedby="codeError confirmMsg"
                   enterkeyhint="next" />
            <input class="otp-input"
                   inputmode="numeric" pattern="\d*" maxlength="1"
                   aria-label="Третья цифра" aria-describedby="codeError confirmMsg"
                   enterkeyhint="next" />
            <input class="otp-input"
                   inputmode="numeric" pattern="\d*" maxlength="1"
                   aria-label="Четвёртая цифра" aria-describedby="codeError confirmMsg"
                   enterkeyhint="done" />
          </div>

          <p id="codeError" class="form-error" hidden style="margin-top:10px;"
             role="status" aria-live="assertive"></p>

          <!-- кнопки нет: автопроверка при вводе всех цифр -->

          <div class="resend-wrap" style="margin-top:14px; text-align:center;">
            <span class="form-hint">Не получили код?</span>
            <button id="resendBtn" type="button" class="link-btn" disabled
                    title="Повторная отправка временно недоступна">
              Отправить повторно
            </button>
            <div class="form-hint" style="margin-top:6px;">
              Повторная отправка доступна через
              <span id="resendTimer" aria-live="polite" role="status">00:45</span>
            </div>
          </div>

          <div class="note note--confirm" role="note" style="margin-top:18px;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
              <path d="M12 8h.01M11 12h2v5h-2z" stroke="currentColor" stroke-width="2" />
            </svg>
            <div>
              Код действует в течение <b id="validityText">10 минут</b>. Если письмо не пришло,
              проверьте папку «Спам» или правильность адреса.
            </div>
          </div>

          <p id="confirmMsg" class="form-hint" style="margin-top:10px;"
             role="status" aria-live="polite"></p>
        </form>

        <noscript>
          <p class="form-hint" style="margin-top:12px; text-align:center;">
            Для подтверждения требуется JavaScript. Пожалуйста, включите его в настройках браузера.
          </p>
        </noscript>
      </div>
    </section>
  </main>
</body>
</html>
