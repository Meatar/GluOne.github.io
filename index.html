<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GluOne</title>

    <!-- SEO -->
    <meta name="description" content="GluOne — контроль глюкозы, инсулин, питание и активность в одном приложении." />
    <meta name="theme-color" content="#0f172a" />
    <meta name="color-scheme" content="light dark" />

    <!-- Favicons -->
    <link rel="shortcut icon" href="/favicon.ico?v=4" type="image/x-icon" />
    <link rel="icon" href="/favicon-32.png?v=4" sizes="32x32" type="image/png" />
    <link rel="icon" href="/favicon-192.png?v=4" sizes="192x192" type="image/png" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png?v=4" sizes="180x180" />

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Общие стили -->
    <link rel="stylesheet" href="assets/css/styles.css" />

    <style>
      /* Мягкий фон с градиентом, нормальный в тёмной теме */
      .hero-bg{
        background:
          radial-gradient(60% 60% at 90% 20%, rgba(14,165,233,.10), transparent 60%),
          radial-gradient(60% 60% at 10% 0%, rgba(99,102,241,.10), transparent 60%),
          var(--bg);
      }
      @media (prefers-color-scheme: dark){
        .hero-bg{
          background:
            radial-gradient(60% 60% at 90% 20%, rgba(14,165,233,.16), transparent 60%),
            radial-gradient(60% 60% at 10% 0%, rgba(99,102,241,.16), transparent 60%),
            var(--bg);
        }
      }

      /* Карточка для картинки — без сложных масок и с фикс. высотой,
         чтобы контент не «перепрыгивал», если изображение грузится дольше */
      .hero-media{
        border-radius: 24px;
        box-shadow: var(--shadow-sm), var(--shadow-lg);
        background: var(--card);
        border:1px solid color-mix(in oklab, var(--divider) 70%, transparent);
        overflow: hidden;
        min-height: clamp(220px, 38vw, 420px); /* защита от сдвига макета */
      }
      .hero-img{
        width:100%;
        height:100%;
        display:block;
        object-fit: cover;
        object-position: center 45%;
      }

      /* Кнопка hero в едином стиле */
      .btn-hero{
        -webkit-appearance:none; appearance:none;
        display:inline-flex; align-items:center; justify-content:center;
        height:44px; min-height:44px; padding:0 20px;
        border-radius:9999px; font-weight:700; line-height:1; text-decoration:none;
        background: var(--ink); color:#fff;
        transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
      }
      .btn-hero:hover{ transform: translateY(-1px); box-shadow: 0 6px 16px rgba(2,6,23,.12); filter:saturate(108%); }
      .btn-hero:focus-visible{ outline:none; box-shadow:0 0 0 3px color-mix(in oklab, var(--ring) 65%, transparent); }
      @media (prefers-color-scheme: dark){
        .btn-hero{ background:#fff; color: var(--bg); }
      }

      /* Плашки в блоках ниже */
      .feature-card{ border-radius: 16px; }
    </style>

    <!-- Скрипт, который меняет "Авторизация" → "Личный кабинет/username" -->
    <script type="module" src="assets/js/core.js"></script>
  </head>
  <body>
    <!-- Header -->
    <header class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <a class="flex items-center gap-3" href="/">
        <img src="assets/image/logo.png" class="h-9 w-9 rounded-xl" alt="GluOne logo" width="36" height="36" />
        <span class="font-semibold tracking-tight">GluOne</span>
      </a>
      <a href="/auth.html" class="btn-hero" data-auth-link role="button">Авторизация</a>
    </header>

    <!-- HERO -->
    <section class="hero-bg">
      <div class="max-w-6xl mx-auto px-4 py-10 lg:py-16">
        <!-- Две колонки: слева текст, справа изображение -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
          <!-- Текст -->
          <div class="order-1">
            <h1 class="mt-2 text-4xl md:text-5xl font-extrabold leading-tight tracking-tight">
              GluOne — цифровой помощник<br/>в управлении диабетом
            </h1>
            <p class="mt-4 text-lg text-slate-700 dark:text-slate-300 max-w-xl">
              Контролируйте глюкозу, питание, инсулин и&nbsp;активность в одном приложении.
            </p>
            <div class="mt-7 flex items-center gap-4 flex-wrap">
              <a href="/auth.html" class="btn-hero" data-auth-link role="button">Авторизация</a>
              <a
                href="https://apps.apple.com/app/idXXXXXXXX"
                target="_blank" rel="noopener noreferrer"
                class="inline-block h-10"
                aria-label="Загрузите в App Store"
              >
                <img src="assets/image/appstore-badge.svg" alt="Загрузите в App Store" loading="lazy" width="140" height="40" class="h-10 w-auto" />
              </a>
            </div>
          </div>

          <!-- Картинка справа -->
          <div class="order-2 hero-media">
            <!-- ВАЖНО: кладём файл сюда: assets/image/hero/hero.jpg -->
            <img
              src="assets/image/hero/hero.jpg"
              alt="Диабет: приборы и принадлежности"
              width="1600" height="1200"
              class="hero-img"
              loading="eager" decoding="async" fetchpriority="high"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- FEATURES (короткий блок для примера; оставил самые запрошенные пункты) -->
    <section id="features" class="max-w-6xl mx-auto px-4 pb-16">
      <div class="flex flex-wrap gap-2 mb-6" role="tablist" aria-label="Функционал GluOne">
        <button class="feature-tab px-4 py-2 rounded-full border bg-slate-900 text-white" data-panel="panel-tools" role="tab" aria-selected="true" aria-controls="panel-tools">Инструменты</button>
        <button class="feature-tab px-4 py-2 rounded-full border" data-panel="panel-important" role="tab" aria-selected="false" aria-controls="panel-important">Важно</button>
      </div>

      <div id="panel-tools" class="feature-panel grid md:grid-cols-2 gap-4" role="tabpanel" aria-hidden="false">
        <div class="p-5 border rounded-2xl feature-card">
          <h3 class="font-semibold">Напоминания</h3>
          <p class="text-sm text-slate-600 dark:text-slate-300">О приёме таблеток, замерах и событиях.</p>
        </div>
        <div class="p-5 border rounded-2xl feature-card">
          <h3 class="font-semibold">Экспорт отчётов</h3>
          <p class="text-sm text-slate-600 dark:text-slate-300">CSV/Excel/PDF за выбранный период.</p>
        </div>
        <div class="p-5 border rounded-2xl feature-card">
          <h3 class="font-semibold">Интеграция с Apple Health</h3>
          <p class="text-sm text-slate-600 dark:text-slate-300">Чтение/запись поддерживаемых категорий.</p>
        </div>
        <div class="p-5 border rounded-2xl feature-card">
          <h3 class="font-semibold">Темы и локализация</h3>
          <p class="text-sm text-slate-600 dark:text-slate-300">Тёмная/светлая тема; RU/EN.</p>
        </div>
      </div>

      <div id="panel-important" class="feature-panel hidden grid md:grid-cols-2 gap-4" role="tabpanel" aria-hidden="true">
        <div class="p-5 border rounded-2xl feature-card">
          <h3 class="font-semibold">Юридически важно</h3>
          <p class="text-sm text-slate-600 dark:text-slate-300">Приложение не ставит диагнозы и не заменяет консультацию врача.</p>
        </div>
        <div class="p-5 border rounded-2xl feature-card">
          <h3 class="font-semibold">Конфиденциальность</h3>
          <p class="text-sm text-slate-600 dark:text-slate-300">Данные шифруются. Можно экспортировать или удалить их в любой момент.</p>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="max-w-6xl mx-auto px-4 py-10 text-sm text-slate-500 border-t">
      © <span id="y"></span> GluOne · <a href="#" class="underline">Политика конфиденциальности</a>
    </footer>

    <!-- Tabs + год -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const yearSpan = document.getElementById('y');
        if (yearSpan) yearSpan.textContent = new Date().getFullYear();

        const tabs = Array.from(document.querySelectorAll('.feature-tab'));
        const panels = Array.from(document.querySelectorAll('.feature-panel'));
        function activate(id){
          tabs.forEach(t=>{
            const on = t.dataset.panel===id;
            t.classList.toggle('bg-slate-900', on);
            t.classList.toggle('text-white', on);
            t.setAttribute('aria-selected', on?'true':'false');
          });
          panels.forEach(p=>{
            const on = p.id===id;
            p.classList.toggle('hidden', !on);
            p.setAttribute('aria-hidden', on?'false':'true');
          });
        }
        document.querySelector('[role="tablist"]')?.addEventListener('click', e=>{
          const t = e.target.closest('.feature-tab'); if (!t) return;
          activate(t.dataset.panel); t.focus();
        });
        const first = document.querySelector('.feature-tab[aria-selected="true"]');
        activate(first?.dataset.panel || 'panel-tools');
      });
    </script>
  </body>
</html>
